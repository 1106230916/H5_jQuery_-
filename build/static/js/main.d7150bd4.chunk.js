(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a(69),l=a(70),n=a(11),c=a(72),d=a(71),o=(a(142),a(45)),h=a.n(o),r=a(138),u=a.n(r),j=(a(347),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).isdoChange=s.isdoChange.bind(Object(n.a)(s)),s.valueChange=s.valueChange.bind(Object(n.a)(s)),s.delete=s.delete.bind(Object(n.a)(s)),s.notice=s.notice.bind(Object(n.a)(s)),s}return Object(l.a)(a,[{key:"isdoChange",value:function(e){this.props.isDo(this.props.index)}},{key:"valueChange",value:function(e){console.log(e.target,this.props.index),this.props.valueChange(e.target.value,this.props.index)}},{key:"delete",value:function(e){this.props.delete(this.props.index)}},{key:"notice",value:function(e){""===e.target.value&&this.delete(this.props.index)}},{key:"render",value:function(){return Object(s.jsxs)(h.a.Fragment,{children:[this.props.adata.isdo?Object(s.jsxs)("p",{className:"time",children:[Object(s.jsxs)("span",{children:["\u7c7b\u522b\uff1a","living"===this.props.adata.classify?"\u751f\u6d3b":"study"===this.props.adata.classify?"\u5b66\u4e60":"\u5de5\u4f5c","\xa0\xa0"]}),Object(s.jsx)("span",{children:"\u5236\u5b9a\u65f6\u95f4\u4e3a:"}),this.props.adata.date,"\xa0\xa0---\xa0\xa0",Object(s.jsx)("span",{children:"\u5b8c\u6210\u65f6\u95f4\u4e3a:"}),this.props.adata.time_exact]}):Object(s.jsxs)("p",{className:"time",children:[Object(s.jsxs)("span",{children:["\u7c7b\u522b\uff1a","living"===this.props.adata.classify?"\u751f\u6d3b":"study"===this.props.adata.classify?"\u5b66\u4e60":"\u5de5\u4f5c","\xa0\xa0"]}),Object(s.jsx)("span",{children:"\u5236\u5b9a\u65f6\u95f4\u4e3a:"}),this.props.adata.date]}),Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("input",{type:"checkbox",checked:this.props.adata.isdo,className:"isdo",onChange:this.isdoChange}),this.props.adata.isdo?Object(s.jsx)("p",{className:"text",children:this.props.adata.value}):Object(s.jsx)("input",{type:"text",maxLength:"100",value:this.props.adata.value,className:"text",onChange:this.valueChange,onBlur:this.notice}),Object(s.jsx)("input",{type:"button",value:"delete",className:"delete",onClick:this.delete})]})]})}}]),a}(h.a.Component)),v=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={value:"",date:"",classify:"living"},s.dateChange=s.dateChange.bind(Object(n.a)(s)),s.textChange=s.textChange.bind(Object(n.a)(s)),s.addRecord=s.addRecord.bind(Object(n.a)(s)),s.classifyChange=s.classifyChange.bind(Object(n.a)(s)),s}return Object(l.a)(a,[{key:"classifyChange",value:function(e){console.log(e.target.value);var t=e.target.value;this.setState({classify:t})}},{key:"addRecord",value:function(e){console.log(this.props.alldata);var t=this.state.value;if(""===t)alert("\u8ba1\u5212\u5185\u5bb9\u4e0d\u53ef\u4ee5\u4e3a\u7a7a\u54e6\uff01");else{var a=new Date,s=this.state.date,i={classify:this.state.classify,isdo:!1,value:t,date:s+("  "+("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2))};this.setState({value:""}),this.props.addRecord(i)}}},{key:"componentDidMount",value:function(){var e=new Date;this.setState({date:e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)})}},{key:"textChange",value:function(e){var t=e.target.value;this.setState({value:t}),console.log(t)}},{key:"dateChange",value:function(e){var t=e.target.value;this.setState({date:t}),console.log(e.target.value)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"add_list",children:[Object(s.jsx)("input",{type:"date",value:this.state.date,onChange:this.dateChange}),Object(s.jsxs)("select",{onChange:this.classifyChange,children:[Object(s.jsx)("option",{value:"living",children:"\u751f\u6d3b"}),Object(s.jsx)("option",{value:"study",children:"\u5b66\u4e60"}),Object(s.jsx)("option",{value:"work",children:"\u5de5\u4f5c"})]}),Object(s.jsx)("input",{type:"text",placeholder:"\u5236\u5b9a\u4f60\u7684\u8ba1\u5212......",onChange:this.textChange,value:this.state.value}),Object(s.jsx)("input",{type:"button",value:"add a record",className:"add",onClick:this.addRecord})]})}}]),a}(h.a.Component),g=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={alldata:[],classify:""},s.valueChange=s.valueChange.bind(Object(n.a)(s)),s.addRecord=s.addRecord.bind(Object(n.a)(s)),s.delete=s.delete.bind(Object(n.a)(s)),s.isDo=s.isDo.bind(Object(n.a)(s)),s.classifyChange=s.classifyChange.bind(Object(n.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=null===localStorage.getItem("alldata")?[]:JSON.parse(localStorage.getItem("alldata"));console.log("\u6253\u5f00\u65f6\u6e32\u67d3\uff1a",e),this.setState({alldata:e})}},{key:"updataAlldata",value:function(){var e=this.state.alldata;this.setState({alldata:e}),localStorage.removeItem("alldata"),localStorage.setItem("alldata",JSON.stringify(e))}},{key:"timeChange",value:function(e,t){var a=this.state.alldata,s=new Date,i=s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2)+"  "+("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2);t?a[e].time_exact=i:a[e].date=i}},{key:"addRecord",value:function(e){console.log("Add a record"),this.state.alldata.push(e),this.updataAlldata()}},{key:"valueChange",value:function(e,t){console.log(e,t);var a=this.state.alldata;e===a[t].value?console.log("\u6ca1\u6709\u4fee\u6539\uff0c\u4e0d\u7528\u66f4\u6539\u65f6\u95f4"):(a[t].value=e,this.timeChange(t),this.updataAlldata())}},{key:"isDo",value:function(e){var t=this.state.alldata;t[e].isdo=!t[e].isdo,console.log(e+"\u73b0\u5728\u662f\uff1a"+t[e].isdo),t[e].isdo,this.timeChange(e,t[e].isdo),this.updataAlldata()}},{key:"delete",value:function(e){console.log("Delete a record"),this.state.alldata.splice(e,1),this.updataAlldata()}},{key:"classifyChange",value:function(e){console.log(e),this.setState({classify:e})}},{key:"render",value:function(){var e=this,t=this.state.alldata,a=this.state.classify;return console.log(a),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"chooses",children:[Object(s.jsx)("span",{className:""===a?"items activity":"items",onClick:this.classifyChange.bind(this,""),children:"\u5168\u90e8"}),Object(s.jsx)("span",{className:"living"===a?"items activity":"items",onClick:this.classifyChange.bind(this,"living"),children:"\u751f\u6d3b"}),Object(s.jsx)("span",{className:"study"===a?"items activity":"items",onClick:this.classifyChange.bind(this,"study"),children:"\u5b66\u4e60"}),Object(s.jsx)("span",{className:"work"===a?"items activity":"items",onClick:this.classifyChange.bind(this,"work"),children:"\u5de5\u4f5c"})]}),Object(s.jsx)(v,{alldata:this.state.alldata,addRecord:this.addRecord}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{className:"title",children:"\u8fd8\u6ca1\u6709\u505a\u7684\u4e8b\u60c5\uff1a"}),t.map((function(t,i){if(""===a){if(!t.isdo)return Object(s.jsx)("div",{children:Object(s.jsx)(j,{index:i,adata:t,valueChange:e.valueChange,delete:e.delete,isDo:e.isDo})},i)}else if(!t.isdo&&a===t.classify)return Object(s.jsx)("div",{children:Object(s.jsx)(j,{index:i,adata:t,valueChange:e.valueChange,delete:e.delete,isDo:e.isDo})},i);return""}))]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{className:"title",children:"\u5df2\u7ecf\u505a\u4e86\u7684\u4e8b\u60c5\uff1a"}),t.map((function(t,i){if(""===a){if(t.isdo)return Object(s.jsx)("div",{children:Object(s.jsx)(j,{index:i,adata:t,valueChange:e.valueChange,delete:e.delete,isDo:e.isDo})},i)}else if(t.isdo&&a===t.classify)return Object(s.jsx)("div",{children:Object(s.jsx)(j,{index:i,adata:t,valueChange:e.valueChange,delete:e.delete,isDo:e.isDo})},i);return""}))]})]})}}]),a}(h.a.Component);u.a.render(Object(s.jsx)(g,{}),document.getElementById("root"))},347:function(e,t,a){}},[[139,1,2]]]);
//# sourceMappingURL=main.d7150bd4.chunk.js.map